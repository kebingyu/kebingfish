!function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,n,t){Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=0)}([function(e,n){$(document).ready(function(){function e(){$("#signup-message").find(".text-success").html("").end().find(".text-danger").html("")}function n(e,n){var n=n||"success",t=".text-"+n;$("#signup-message").find(t).html(e).end().modal()}$(".table-striped").on("click",".user-name",function(t){t.preventDefault();var r=$(this),o=r.find("a").text();confirm("Remove "+o+" from this event?")&&$.ajax({url:r.find("a").attr("href"),method:"DELETE",beforeSend:function(){e()}}).done(function(e){return e.ok?($(".badge").text(e.data.goer_count),r.parent().fadeOut(300,function(){$(this).remove()}),void n(o+"'s group has been removed.")):void n(e.error,"danger")})}),$("form.signup").submit(function(t){t.preventDefault();var r=$(this),o=r.attr("action");$.ajax({method:r.attr("method"),url:o,data:r.serialize(),beforeSend:function(){var n=r.find(".has-error");n.find(".error-block").html(""),n.removeClass("has-error"),e()}}).done(function(e){if(e.ok){var t=$(".table-striped tbody");$(".badge").text(e.data.goer_count);var a=r.find('input[name="name"]').val(),i=r.find('input[name="group_size"]').val()||1,u='<tr><td class="user-name"><a href="'+o+"/"+a+'">'+a+'</a></td><td class="user-group-size">'+i+"</td></tr>";return t.append(u),void n(a+"'s group has been added.")}n(e.error,"danger")}).fail(function(e){var n=e.responseJSON;for(var t in n){for(var r=$('input[name="'+t+'"]').parents(".form-group"),o=r.find(".error-block"),a=0,i=n[t].length;a<i;a++){var u='<li class="text-danger">'+n[t][a]+"</li>";o.append(u)}r.addClass("has-error")}})}),$(".js-event-edit").on("click",function(){window.location=$(this).data("url")}),$(".js-event-print").on("click",function(){window.location=$(this).data("url")})})}]);